AddCSLuaFile("autorun/client/rttt_mystats.lua")util.AddNetworkString( "myStats" )local waysToDie = { "opt", "the Crowbar", "the Knife", "the Deagle", "pistols", "the Silenced Pistol", "the Glock", "the H.U.G.E-249", "rifles", "assault rifles", "SMGs", "shotguns", "the UMP Prototype", "a Teleporter", "their own mass", "gravity", "props", "explosives", "the art of lighting people on fire", "the art of suffocation" }hook.Add("PlayerInitialSpawn", "rttt_check_stats", function( ply )	if not file.Exists("killtracker/"..ply:UniqueID()..".txt", "DATA") then		file.Write("killtracker/"..ply:UniqueID()..".txt", "0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0:0") // 20 slots	endend)hook.Add("DoPlayerDeath", "rankedttt", function(ply, attacker, dmginfo)		if !IsValid(ply) or !IsValid(attacker) then	return end	if !ply:IsPlayer() or !attacker:IsPlayer() then	return end		if ply.GetRole and (ply:GetRole() == attacker:GetRole()) or ( ((attacker:GetRole() == 2) or (ply:GetRole() == 2)) and ((attacker:GetRole() == 0) or (ply:GetRole() == 0)) ) then		return	end		if !(GetRoundState() == ROUND_ACTIVE) then		return	end	local killwep = util.WeaponFromDamage(dmginfo)	//local killwep = 0		if dmginfo == nil then return end		if dmginfo:IsDamageType( DMG_PHYSGUN ) then		killwep = 15	elseif dmginfo:IsDamageType( DMG_SONIC ) then		killwep = 14	elseif dmginfo:IsDamageType( DMG_FALL ) then		killwep = 16	elseif dmginfo:IsDamageType( DMG_DROWN ) then		killwep = 20	elseif dmginfo:IsDamageType( DMG_BURN ) then		killwep = 19	elseif dmginfo:IsDamageType( DMG_CRUSH ) then		killwep = 17	elseif killwep == nil then		killwep = dmginfo:GetInflictor():GetName()		if killwep == "" and dmginfo:IsExplosionDamage() then			killwep = 18		end	else		killwep = getGunNumber(killwep:GetClass())	end	if ((ply:IsSpec()) or (killwep == nil) or (attacker == ply)) then return end		if IsValid(attacker) and attacker:IsPlayer() and attacker:GetName() != killwep then		storekill(attacker, killwep)	endend)function storekill(ply, wep)	local blarg = string.Explode(":", file.Read("killtracker/"..ply:UniqueID()..".txt", "DATA"))	if blarg == nil then return end	if isnumber(wep) == false then return end		if wep == 0 or wep > 20 then		return	end		blarg[wep] = blarg[wep] + 1	file.Write("killtracker/"..ply:UniqueID()..".txt", string.Implode(":", blarg) ) endfunction getBestGun(ply)	local blarg = string.Explode(":", file.Read("killtracker/"..ply:UniqueID()..".txt", "DATA"))	if blarg == nil then return end	local opt = tonumber(blarg[1])		if ( opt > 1 ) then		return { waysToDie[opt], blarg[opt] }	end			local temp = 1	for k,v in pairs(blarg) do		if k != 1 and tonumber(v) >= tonumber(blarg[temp]) then			temp = k		end	end		return { waysToDie[temp], tonumber(blarg[temp])}endfunction getGunTotal(ply)	local blarg = string.Explode(":", file.Read("killtracker/"..ply:UniqueID()..".txt", "DATA"))	if blarg == nil then return 1 end		local total = 0	for k, v in pairs(blarg) do		if k != 1 then			total = total + v		end	end		return totalend/* concommand.Add("prefweapon", function(ply, args)	PrintTable(args)end) *//*hook.Add("PlayerSay", "rankedttt", function(ply, said)	if not IsValid(ply) then return end	local command = string.Explode(" ", said)	if string.lower(command[1]) == "!mystats" then		local stuff = file.Read("killtracker/"..ply:UniqueID()..".txt", "DATA")		if stuff then			net.Start("myStats")			net.WriteString(stuff)			net.Send(ply)		end	endend) */function sendStats(ply, statply)	local stuff = file.Read("killtracker/"..statply:UniqueID()..".txt", "DATA")	if stuff then		net.Start("myStats")		net.WriteTable( { stuff, statply:Nick() } )		net.Send(ply)	endendfunction getGunNumber(wepname)	if wepname == "weapon_ttt_c4" then		return 18	elseif wepname == "weapon_ttt_confgrenade" then		return 16	elseif wepname == "weapon_ttt_flaregun" then		return 19	elseif wepname == "weapon_ttt_glock" then		return 7	elseif wepname == "weapon_ttt_knife" then		return 3	elseif wepname == "weapon_ttt_m16" then		return 10	elseif wepname == "weapon_ttt_phammer" then		return 17	elseif wepname == "weapon_ttt_push" then		return 16	elseif wepname == "weapon_ttt_sipistol" then		return 6	elseif wepname == "weapon_ttt_stungun" then		return 13	elseif wepname == "weapon_ttt_teleport" then		return 14	elseif wepname == "weapon_ttt_basegrenade" then		return 19	elseif wepname == "weapon_ttt_carry" then		return 17	elseif wepname == "weapon_zm_improvised" then		return 2	elseif wepname == "weapon_zm_mac10" then		return 11	elseif wepname == "weapon_zm_molotov" then		return 19	elseif wepname == "weapon_zm_pistol" then		return 5	elseif wepname == "weapon_zm_revolver" then		return 4	elseif wepname == "weapon_zm_rifle" then		return 9	elseif wepname == "weapon_zm_shotgun" then		return 12	elseif wepname == "weapon_zm_sledge" then		return 8	elseif wepname == "ttt_knife_proj" then		return 3	else		local tmp = isVariant(wepname)		if tmp then			return getGunNumber(tmp)		else			return 0		end	endend